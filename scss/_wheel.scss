$wheel-rotation-anim-name : "wheel-rotation";

#wheel {
  display         : flex;
  height          : 100vh;
  justify-content : center;
  align-items     : center;
  user-select     : none;

  animation   : {
    duration  : 5s;
    fill-mode : forwards;
  }

  img {
    position : absolute;
  }

  > ul {
    > li {
      overflow         : hidden;
      position         : absolute;
      top              : 0; right : 0;
      width            : 50%; height : 50%;
      transform-origin : 0 100%;

      .slice-contents {
        position      : absolute;
        left          : -100%;
        width         : 200%; height : 200%;
        border-radius : 50%;
        text-align    : center;
        transition    : background-color .5s;

        > span {
          color       : black;
          font-weight : bolder;
          width       : 10px;
          word-wrap   : break-word;
          display     : inline-block;
          padding     : 20px;
          font-size   : 25px;
          @include drop-shadow(1px, 1px, 1px, white);
        }
      }

      $colors : ("red", "yellow", "green", "blue", "orange", "pink");
      $numberOfSectionsInWheel : 24;
      @for $i from 1 through $numberOfSectionsInWheel {
        &:nth-of-type(#{$i}) {
          $thickness : 360/23;
          $rotation : #{$i*($thickness)};
          $skewness : 90-$thickness;
          transform : rotate(#{$rotation}deg) /* angle between vertical axis (12 o'clock)
							and start of the slice;
							change it to see how the slice changes */
          skewY(#{-$skewness}deg); /* minus (90deg minus the central angle of the slice)
							see http://en.wikipedia.org/wiki/Central_angle
							change it to see how the slice changes */
          /* in this case, take the central angle of the slice to be 50deg
             90deg - 50deg = 40deg => skewY(-40deg) */
          .slice-contents {
            background : unquote(nth($colors, ($i) % length($colors)+1));
            transform  : skewY(#{$skewness}deg) /* unskew slice contents */
            rotate(#{$thickness/2}deg); /* rotate by half the central angle of the slice
							which is 50deg in this case */
          }

          @include keyframes($wheel-rotation-anim-name+"-"+$i) {
            100% {
              transform : rotate(#{1800+(360*$i/$numberOfSectionsInWheel)+(360/$numberOfSectionsInWheel)}deg);
            }
          }
        }
      }
    }
  }
}

.pie {
  position      : relative;
  padding       : 0;
  width         : 32em; height : 32em;
  border-radius : 50%;
  list-style    : none;
  transform     : rotate(0deg);
}
